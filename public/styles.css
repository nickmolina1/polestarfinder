/* ================== VARIABLES ================== */
:root {
    --terra: #f3771d;
    --terra-light: #f9a67a;
    --terra-dark: #d95b00;
    /* Approximate visual height of the header (excludes safe-area inset) */
    --topbar-height: 56px;
    /* Runtime-updated offset for top spacing; JS sets this to the actual header height */
    --topbar-offset: calc(var(--topbar-height) + env(safe-area-inset-top));
    /* Thumbnail sizing: change these to control thumbnail dimensions centrally */
    --thumbnail-size: 72px;
    --thumbnail-min: 72px;
}
/* ================== TYPOGRAPHY ================== */
body, h1, h2, h3, h4, h5, h6 {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    margin: 0;
    padding: 0;
}

/* ================== TOPBAR ================== */
.topbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    background: #ffffff;
    border-bottom: 1px solid #eee;
    z-index: 1000;
    /* ensure content inside the topbar doesn't sit under the notch on iOS */
    padding-top: env(safe-area-inset-top);
}
.topbar-inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 10px 25px;
}
.brand {
    color: #333;
    text-decoration: none;
    font-weight: 500;
    font-size: 1.5rem;
    letter-spacing: -0.05em;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    padding-top: var(--topbar-offset);
    scroll-padding-top: var(--topbar-offset); /* anchors */
}



/* ================== VEHICLE CARDS ================== */
.vehicles-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
    width: 100%;
    box-sizing: border-box;
}

@media (max-width: 1200px) {
    .vehicles-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
@media (max-width: 950px) {
    .vehicles-grid {
        grid-template-columns: 1fr;
    }
}

.vehicle-card {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    padding: 20px 18px 16px 18px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    transition: box-shadow 0.2s;
    position: relative;
}
.vehicle-card:hover {
    box-shadow: 0 4px 16px rgba(0,0,0,0.16);
}
.vehicle-card[role="link"] {
    cursor: pointer;
}
.vehicle-card:focus {
    outline: 3px solid rgba(243,119,29,0.25);
    outline-offset: 3px;
}
.card-header {
    display: flex;
    justify-content: space-between;
    width: 100%;
    font-size: 1.2em;
    font-weight: 600;
    margin-bottom: 8px;
}
.card-header .badge.just-added {
    background: var(--terra, #f3771d);
    color: #fff;
    font-size: 0.55em;
    font-weight: 600;
    padding: 4px 6px 3px 6px;
    border-radius: 12px;
    letter-spacing: 0.5px;
    align-self: center;
    margin-left: 8px;
    line-height: 1;
    text-transform: uppercase;
    display: inline-block;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}
/* Certified Pre-Owned Badge */
.cpo-badge-wrapper {
    display: inline-flex;
    align-items: center;
    margin-left: 8px;
}
.cpo-badge {
    width: 26px;
    height: 26px;
    color: #222; /* shield color via currentColor */
    flex-shrink: 0;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.25));
}
@media (prefers-color-scheme: dark) {
  .cpo-badge { color: #489cd4; }
}
.card-model {
    color: rgb(117, 120, 123);
    font-weight: 400;
}
.card-year {
    color: #333;
    font-weight: 400;
}
.card-location {
    font-size: 1em;
    color: #666;
    margin-bottom: 6px;
}
.card-price {
    font-size: 1.3em;
    font-weight: 700;
    color: var(--terra, #f3771d);
    margin-bottom: 6px;
}
.card-price .price-delta {
    font-size: 0.55em;
    font-weight: 600;
    margin-left: 6px;
    vertical-align: middle;
    padding: 2px 4px 1px 4px;
    border-radius: 6px;
    line-height: 1;
    display: inline-block;
}
.card-price .price-delta.delta-up {
    background: rgba(220, 53, 69, 0.12); /* red-ish */
    color: #c12b39;
}
.card-price .price-delta.delta-down {
    background: rgba(25, 135, 84, 0.15); /* green-ish */
    color: #1d6f4b;
}
.card-mileage {
    font-size: 1em;
    color: #444;
    margin-bottom: 6px;
}
.card-state {
    font-size: 1em;
    color: #888;
    margin-bottom: 6px;
}
.card-packs {
    font-size: 0.95em;
    color: #555;
    margin-bottom: 6px;
}
.card-added, .card-firstreg {
    font-size: 0.9em;
    color: #999;
    margin-bottom: 4px;
}
.card-link {
    display: none !important;
}

/* Card image */
.card-image {
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 10px;
}
.card-image.placeholder {
    background: #eef2f5;
    width: 100%;
    height: 160px;
    border-radius: 8px;
    margin-bottom: 10px;
}

/* ================== THUMBNAILS ================== */
/* New classes for images moved from inline styles */
.thumbnail {
    width: var(--thumbnail-size);
    height: var(--thumbnail-size);
    box-sizing: border-box;
    object-fit: cover;

    display: block; /* remove inline baseline gap inside anchors */
    cursor: pointer;
}
.thumbnail-container {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 8px;
    justify-items: center;
    align-items: start;
}

.thumbnail-container a {
    display: inline-block;

    vertical-align: middle;
}


/* ================== LINKS & TOOLTIP ================== */
a[data-wheel] {
    position: relative;
}
/* Tooltip for wheel info on thumbnails */
a[data-wheel]:hover::after {
    content: attr(data-wheel);
    position: absolute;
    bottom: 110%; /* adjust as needed */
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 2px 5px;
    border-radius: 3px;
    max-width: 200px;
    white-space: normal;
    overflow-wrap: break-word;
    font-size: 12px;
    z-index: 10;
}

/* ================== HEADINGS & COVER IMAGE ================== */
.main-heading {
    margin-left: 30px;
}
.cover {
    object-fit: cover;
}

/* ================== COLOR SWATCHES ================== */
/* Exterior swatches now contain an inner .thumbnail span so they match the structure
   used by other thumbnail groups. We set the color on the inner span and keep
   the anchor as the interactive element. */
.exterior-option[data-color="Snow"] .thumbnail {
    background-color: #F5F5F5;
}
.exterior-option[data-color="Magnesium"] .thumbnail {
    background-color: #BFC2C3;
}
.exterior-option[data-color="Jupiter"] .thumbnail {
    background-color: #D3C8C9;
}
.exterior-option[data-color="Moon"] .thumbnail {
    background-color: #928E81;
}
.exterior-option[data-color="Thunder"] .thumbnail {
    background-color: #606163;
}
.exterior-option[data-color="Midnight"] .thumbnail {
    background-color: #183A50;
}
.exterior-option[data-color="Space"] .thumbnail,
.exterior-option[data-color="Void"] .thumbnail {
    background-color: #000000;
}
.exterior-option {
    display: inline-block;
    cursor: pointer;
    position: relative; /* for tooltip */
    box-sizing: border-box;
}
.interior-option {
    position: relative; /* for tooltip positioning */
    display: inline-block;
}
.pack-option {
    position: relative; /* for tooltip positioning */
    display: inline-block;
}
.exterior-option .thumbnail {
    width: var(--thumbnail-min);
    height: var(--thumbnail-min);
    display: block;
    box-sizing: border-box;
}
/* Tooltip for color swatches */
.exterior-option:hover::after {
    content: attr(data-color);
    position: absolute;
    bottom: 110%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 3px 5px;
    max-width: 200px;
    white-space: normal;
    overflow-wrap: break-word;
    font-size: 12px;
    z-index: 10;
}
/* Tooltip for interior options */
.interior-option:hover::after {
    content: attr(data-interior);
    position: absolute;
    bottom: 110%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 3px 5px;
    max-width: 220px;
    white-space: normal;
    overflow-wrap: break-word;
    font-size: 12px;
    z-index: 10;
    border-radius: 3px;
}
/* Tooltip for pack options */
.pack-option:hover::after {
    content: attr(data-pack);
    position: absolute;
    bottom: 110%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 3px 5px;
    max-width: 180px;
    white-space: normal;
    overflow-wrap: break-word;
    font-size: 12px;
    z-index: 10;
    border-radius: 3px;
}
/* Hover / focus affordance for thumbnails and swatches (subtle lift + shadow) */
.thumbnail:hover {
    outline: 3px solid var(--terra-light);
}
.selected {
    /* Use an outline so the selected visual does not change element layout or size */
    outline: 3px solid var(--terra);
}
/* ================== CONTAINERS & LAYOUT ================== */
.my-container {
    display: flex;
    flex-direction: row; /* changed from column to row for side-by-side layout */
    flex-wrap: nowrap; /* changed from wrap to nowrap to keep items side-by-side */
    max-width: 1200px;
    margin: 0 auto;
    padding: 10px;
}
.my-sidebar {
    display: flex;
    flex-direction: column;
    padding: 15px;
    border-right: 1px solid #ccc; /* custom border styling */
    width: 250px;
    min-width: 250px;
    max-height: 1850px;
}

/* Filters toggle is mobile-only by default */
.filters-toggle { display: none; }
.my-main {
    padding: 15px;
    overflow-x: auto;
    background: #fafbfc;
    width: 100%;
    height: 1850px
}
.inventory-cards {
    width: 100%;
    padding: 0 10px 10px 0;
    box-sizing: border-box;
}
.inventory-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 8px;
}
.sort-controls {
    display: flex;
    align-items: center;
    gap: 8px;
}
.form-label.small {
    font-size: 0.85rem;
    margin: 0;
}
.form-select.small {
    padding: 6px 8px;
    font-size: 0.9rem;
}
.my-main table {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    table-layout: auto; /* columns expand to fit content */
}
.filter-section {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 0.6rem;
    width: auto;
}
.filter-subsection {
    margin-bottom: 0.6rem;
}
.thumbnail-container {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr)); /* keep 3 thumbnails per row by default */
    gap: 8px;
    justify-items: center;
    align-items: start;
}
@media (max-width: 700px) {
    /* Move sidebar to top */
    .my-container {
        flex-direction: column;
        align-items: stretch;
    }
    .my-sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #eee;
        padding: 12px;
        order: 0;
        position: sticky;
        top: var(--topbar-offset);
        background: #fff;
        z-index: 40;

    }
    /* Sticky filters toggle button */
    .filters-toggle {
        position: sticky;
        top: var(--topbar-offset);
        z-index: 41;
        display: flex;
        align-items: center;
        gap: 8px;
        width: 100%;
        padding: 14px 16px; /* larger touch target */
        margin: -12px -12px 12px -12px; /* full-bleed in the sidebar */
        background: #f7f7f8;
        border: 0;
        border-bottom: 1px solid #eee;
        cursor: pointer;
        font-weight: 700;
        text-align: left;
        font-size: 1rem;
    }
    .filters-toggle:after {
        content: '\25BC'; /* down chevron */
        margin-left: auto;
        transition: transform 0.2s ease;
    }
    .filters-toggle[aria-expanded="false"]:after {
        transform: rotate(-90deg); /* points right when collapsed */
    }
    /* Collapsible panel */
    #filtersPanel {
        transition: height 0.2s ease, padding 0.2s ease, opacity 0.2s ease;
        /* Expanded by default on mobile; allow internal scrolling */
        max-height: calc(80vh - 56px);
        overflow: auto;
        -webkit-overflow-scrolling: touch;
    }
    .filters-collapsed #filtersPanel {
        height: 0 !important;
        padding-top: 0;
        padding-bottom: 0;
        opacity: 0;
        border-bottom: none;
        overflow: hidden;
    }
    .my-main {
        order: 1;
        padding: 12px;
    }
    /* Filters: two-column grid on small screens */
    .filter-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        align-items: start;
    }
    /* Default: filter sections span full width */
    .filter-section {
        width: 100%;
        margin: 0; /* let grid gap control spacing */
        grid-column: 1 / -1;
    }
    /* Place Exterior + Interior side-by-side */
    .filter-section:has(#exteriorOptions),
    #interiorOptions {
        grid-column: span 1;
    }
    /* Place Wheels + Packs side-by-side */
    #wheelOptions,
    .filter-section:has(#packOptions) {
        grid-column: span 1;
    }
    /* Tighter thumbnail layout: fixed-size tracks, left-aligned */
    .thumbnail-container {
        grid-template-columns: repeat(auto-fill, minmax(var(--thumbnail-min), var(--thumbnail-min)));
        gap: 6px;
        justify-content: start;
        justify-items: start;
    }
}
/* ================== STATISTICS PANEL ================== */
.statistics-panel {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 1rem;
}
.statistics-panel .statistic {
        background: #fff;
        padding: 12px 14px;
        border-radius: 8px;
        box-shadow: 0 1px 4px rgba(0,0,0,0.06);
        flex: 1 1 0;
        text-align: left;
}
.statistics-panel .statistic h3 {
        font-size: 0.95rem;
        margin-bottom: 6px;
        color: #333;
}
.statistics-panel .statistic p {
        font-size: 1.15rem;
        font-weight: 700;
        margin: 0;
}
@media (max-width: 700px) {
    .statistics-panel {
        flex-direction: column;
    }
}
/* ================== FORMS ================== */
.form-label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: 20px;
}
.sub-label {
    font-size: 0.875rem;
    color: #666;
}   
.form-select, .form-control {
    width: auto;
    padding: 8px;
    margin-bottom: 1rem;
    border: 1px solid #ddd;
    border-radius: 4px;
}
/* Pair of min/max selects displayed inline */
.range-pair {
    display: flex;
    gap: 6px;
    width: 100%;
}
.range-pair .form-select {
    flex: 1 1 0;
    margin-bottom: 0; /* inner selects spacing handled by container */
}
@media (max-width: 700px) {
  .range-pair { flex-direction: row; }
}
@media screen and (max-width: 768px) {
    .form-select, .form-control {
        width: 100%;
    }
}

/* Buttons */
.btn {
    display: inline-block;
    cursor: pointer;
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid #ddd;
    background: #f7f7f8;
    color: #333;
    font-size: 0.95rem;
}
.btn:hover { background: #efeff0; }
.btn:active { background: #e8e8e9; }
.btn-secondary {
    border-color: #ccc;
}
/* Terra-colored button variant */
.btn-terra {
    background: var(--terra);
    color: #fff;
    border-color: var(--terra-dark);
}
.btn-terra:hover {
    background: var(--terra-dark);
    border-color: var(--terra-dark);
}
.btn-terra:active {
    background: var(--terra-dark);
    border-color: var(--terra-dark);
}
.btn-terra:focus-visible {
    outline: 2px solid rgba(243, 119, 29, 0.35);
    outline-offset: 2px;
}

